1bf70f4b81e8f160b7feec5fc4f25e8c
/**
 * Error System module integration tests
 */

const {
  ErrorHandler,
  ErrorCatalog,
  ErrorLevel,
  Validator,
  createErrorSystem
} = require('../../../../src/core/error');

// Mock EventSystem
class MockEventSystem {
  constructor() {
    this.events = [];
  }
  emit(eventName, data) {
    this.events.push({
      eventName,
      data
    });
    return true;
  }
  getEvents() {
    return this.events;
  }
}
describe('Error System', () => {
  let eventSystem;
  beforeEach(() => {
    eventSystem = new MockEventSystem();
  });

  // Test module exports
  test('should export all required components', () => {
    expect(ErrorHandler).toBeDefined();
    expect(ErrorCatalog).toBeDefined();
    expect(ErrorLevel).toBeDefined();
    expect(Validator).toBeDefined();
    expect(createErrorSystem).toBeDefined();
  });

  // Test factory function
  describe('createErrorSystem', () => {
    test('should create a complete error system', () => {
      const errorSystem = createErrorSystem(eventSystem);
      expect(errorSystem.errorHandler).toBeInstanceOf(ErrorHandler);
      expect(errorSystem.validator).toBeInstanceOf(Validator);
    });
    test('should create error system with custom options', () => {
      const options = {
        policy: {
          throwOnLevel: ErrorLevel.FATAL,
          logLevel: ErrorLevel.WARNING
        }
      };
      const errorSystem = createErrorSystem(eventSystem, options);
      expect(errorSystem.errorHandler.policy.throwOnLevel).toBe(ErrorLevel.FATAL);
      expect(errorSystem.errorHandler.policy.logLevel).toBe(ErrorLevel.WARNING);
    });
  });

  // Test integration between components
  describe('Component Integration', () => {
    test('should integrate validator with error handler', () => {
      // Create error system
      const {
        errorHandler,
        validator
      } = createErrorSystem(eventSystem);

      // Configure error handler not to throw (for this test)
      errorHandler.setErrorPolicy({
        throwOnLevel: ErrorLevel.FATAL
      });

      // Use validator which should use error handler internally
      validator.validateCondition(false, ErrorCatalog.PLAYER.INVALID_PLAYER_ID.code);

      // Check that error was emitted through event system
      const errorEvents = eventSystem.events.filter(e => e.eventName === 'error');
      expect(errorEvents.length).toBe(1);
      expect(errorEvents[0].data.code).toBe(ErrorCatalog.PLAYER.INVALID_PLAYER_ID.code);
    });
    test('should handle complete validation flow', () => {
      const {
        errorHandler,
        validator
      } = createErrorSystem(eventSystem);

      // Set up mock game objects
      const player = {
        id: 1,
        name: 'Player 1',
        isAlive: true
      };
      const role = {
        name: 'seer',
        canUseAbility: () => true
      };
      const gameState = {
        currentPhase: 'night',
        hasStarted: true,
        hasEnded: false,
        getPlayer: () => player
      };
      const action = {
        type: 'fortune',
        actor: 1,
        target: 2
      };

      // Configure to throw on ERROR
      errorHandler.setErrorPolicy({
        throwOnLevel: ErrorLevel.ERROR
      });

      // Validation should pass
      expect(() => {
        validator.validatePlayerAction(action, player, gameState);
        validator.validateRoleAction(action, role, gameState);
        validator.validateGameState(action, gameState);
      }).not.toThrow();

      // Make player dead (should cause validation to fail)
      player.isAlive = false;

      // Now validation should throw
      expect(() => {
        validator.validatePlayerAction(action, player, gameState);
      }).toThrow();

      // Confirm error was emitted and has correct properties
      const deadPlayerEvents = eventSystem.events.filter(e => e.eventName === 'error.code.E0103' // DEAD_PLAYER_ACTION code
      );
      expect(deadPlayerEvents.length).toBe(1);
      expect(deadPlayerEvents[0].data.context.playerId).toBe(1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFcnJvckhhbmRsZXIiLCJFcnJvckNhdGFsb2ciLCJFcnJvckxldmVsIiwiVmFsaWRhdG9yIiwiY3JlYXRlRXJyb3JTeXN0ZW0iLCJyZXF1aXJlIiwiTW9ja0V2ZW50U3lzdGVtIiwiY29uc3RydWN0b3IiLCJldmVudHMiLCJlbWl0IiwiZXZlbnROYW1lIiwiZGF0YSIsInB1c2giLCJnZXRFdmVudHMiLCJkZXNjcmliZSIsImV2ZW50U3lzdGVtIiwiYmVmb3JlRWFjaCIsInRlc3QiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsImVycm9yU3lzdGVtIiwiZXJyb3JIYW5kbGVyIiwidG9CZUluc3RhbmNlT2YiLCJ2YWxpZGF0b3IiLCJvcHRpb25zIiwicG9saWN5IiwidGhyb3dPbkxldmVsIiwiRkFUQUwiLCJsb2dMZXZlbCIsIldBUk5JTkciLCJ0b0JlIiwic2V0RXJyb3JQb2xpY3kiLCJ2YWxpZGF0ZUNvbmRpdGlvbiIsIlBMQVlFUiIsIklOVkFMSURfUExBWUVSX0lEIiwiY29kZSIsImVycm9yRXZlbnRzIiwiZmlsdGVyIiwiZSIsImxlbmd0aCIsInBsYXllciIsImlkIiwibmFtZSIsImlzQWxpdmUiLCJyb2xlIiwiY2FuVXNlQWJpbGl0eSIsImdhbWVTdGF0ZSIsImN1cnJlbnRQaGFzZSIsImhhc1N0YXJ0ZWQiLCJoYXNFbmRlZCIsImdldFBsYXllciIsImFjdGlvbiIsInR5cGUiLCJhY3RvciIsInRhcmdldCIsIkVSUk9SIiwidmFsaWRhdGVQbGF5ZXJBY3Rpb24iLCJ2YWxpZGF0ZVJvbGVBY3Rpb24iLCJ2YWxpZGF0ZUdhbWVTdGF0ZSIsIm5vdCIsInRvVGhyb3ciLCJkZWFkUGxheWVyRXZlbnRzIiwiY29udGV4dCIsInBsYXllcklkIl0sInNvdXJjZXMiOlsiaW5kZXgudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVycm9yIFN5c3RlbSBtb2R1bGUgaW50ZWdyYXRpb24gdGVzdHNcbiAqL1xuXG5jb25zdCB7XG4gIEVycm9ySGFuZGxlcixcbiAgRXJyb3JDYXRhbG9nLFxuICBFcnJvckxldmVsLFxuICBWYWxpZGF0b3IsXG4gIGNyZWF0ZUVycm9yU3lzdGVtXG59ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL2NvcmUvZXJyb3InKTtcblxuLy8gTW9jayBFdmVudFN5c3RlbVxuY2xhc3MgTW9ja0V2ZW50U3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgfVxuICBcbiAgZW1pdChldmVudE5hbWUsIGRhdGEpIHtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKHsgZXZlbnROYW1lLCBkYXRhIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBnZXRFdmVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzO1xuICB9XG59XG5cbmRlc2NyaWJlKCdFcnJvciBTeXN0ZW0nLCAoKSA9PiB7XG4gIGxldCBldmVudFN5c3RlbTtcbiAgXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGV2ZW50U3lzdGVtID0gbmV3IE1vY2tFdmVudFN5c3RlbSgpO1xuICB9KTtcbiAgXG4gIC8vIFRlc3QgbW9kdWxlIGV4cG9ydHNcbiAgdGVzdCgnc2hvdWxkIGV4cG9ydCBhbGwgcmVxdWlyZWQgY29tcG9uZW50cycsICgpID0+IHtcbiAgICBleHBlY3QoRXJyb3JIYW5kbGVyKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChFcnJvckNhdGFsb2cpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KEVycm9yTGV2ZWwpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KFZhbGlkYXRvcikudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoY3JlYXRlRXJyb3JTeXN0ZW0pLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuICBcbiAgLy8gVGVzdCBmYWN0b3J5IGZ1bmN0aW9uXG4gIGRlc2NyaWJlKCdjcmVhdGVFcnJvclN5c3RlbScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIGEgY29tcGxldGUgZXJyb3Igc3lzdGVtJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JTeXN0ZW0gPSBjcmVhdGVFcnJvclN5c3RlbShldmVudFN5c3RlbSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChlcnJvclN5c3RlbS5lcnJvckhhbmRsZXIpLnRvQmVJbnN0YW5jZU9mKEVycm9ySGFuZGxlcik7XG4gICAgICBleHBlY3QoZXJyb3JTeXN0ZW0udmFsaWRhdG9yKS50b0JlSW5zdGFuY2VPZihWYWxpZGF0b3IpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBjcmVhdGUgZXJyb3Igc3lzdGVtIHdpdGggY3VzdG9tIG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwb2xpY3k6IHtcbiAgICAgICAgICB0aHJvd09uTGV2ZWw6IEVycm9yTGV2ZWwuRkFUQUwsXG4gICAgICAgICAgbG9nTGV2ZWw6IEVycm9yTGV2ZWwuV0FSTklOR1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBlcnJvclN5c3RlbSA9IGNyZWF0ZUVycm9yU3lzdGVtKGV2ZW50U3lzdGVtLCBvcHRpb25zKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGVycm9yU3lzdGVtLmVycm9ySGFuZGxlci5wb2xpY3kudGhyb3dPbkxldmVsKS50b0JlKEVycm9yTGV2ZWwuRkFUQUwpO1xuICAgICAgZXhwZWN0KGVycm9yU3lzdGVtLmVycm9ySGFuZGxlci5wb2xpY3kubG9nTGV2ZWwpLnRvQmUoRXJyb3JMZXZlbC5XQVJOSU5HKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICAvLyBUZXN0IGludGVncmF0aW9uIGJldHdlZW4gY29tcG9uZW50c1xuICBkZXNjcmliZSgnQ29tcG9uZW50IEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBpbnRlZ3JhdGUgdmFsaWRhdG9yIHdpdGggZXJyb3IgaGFuZGxlcicsICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBlcnJvciBzeXN0ZW1cbiAgICAgIGNvbnN0IHsgZXJyb3JIYW5kbGVyLCB2YWxpZGF0b3IgfSA9IGNyZWF0ZUVycm9yU3lzdGVtKGV2ZW50U3lzdGVtKTtcbiAgICAgIFxuICAgICAgLy8gQ29uZmlndXJlIGVycm9yIGhhbmRsZXIgbm90IHRvIHRocm93IChmb3IgdGhpcyB0ZXN0KVxuICAgICAgZXJyb3JIYW5kbGVyLnNldEVycm9yUG9saWN5KHsgdGhyb3dPbkxldmVsOiBFcnJvckxldmVsLkZBVEFMIH0pO1xuICAgICAgXG4gICAgICAvLyBVc2UgdmFsaWRhdG9yIHdoaWNoIHNob3VsZCB1c2UgZXJyb3IgaGFuZGxlciBpbnRlcm5hbGx5XG4gICAgICB2YWxpZGF0b3IudmFsaWRhdGVDb25kaXRpb24oZmFsc2UsIEVycm9yQ2F0YWxvZy5QTEFZRVIuSU5WQUxJRF9QTEFZRVJfSUQuY29kZSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIHRoYXQgZXJyb3Igd2FzIGVtaXR0ZWQgdGhyb3VnaCBldmVudCBzeXN0ZW1cbiAgICAgIGNvbnN0IGVycm9yRXZlbnRzID0gZXZlbnRTeXN0ZW0uZXZlbnRzLmZpbHRlcihlID0+IGUuZXZlbnROYW1lID09PSAnZXJyb3InKTtcbiAgICAgIGV4cGVjdChlcnJvckV2ZW50cy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgICBleHBlY3QoZXJyb3JFdmVudHNbMF0uZGF0YS5jb2RlKS50b0JlKEVycm9yQ2F0YWxvZy5QTEFZRVIuSU5WQUxJRF9QTEFZRVJfSUQuY29kZSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSB2YWxpZGF0aW9uIGZsb3cnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGVycm9ySGFuZGxlciwgdmFsaWRhdG9yIH0gPSBjcmVhdGVFcnJvclN5c3RlbShldmVudFN5c3RlbSk7XG4gICAgICBcbiAgICAgIC8vIFNldCB1cCBtb2NrIGdhbWUgb2JqZWN0c1xuICAgICAgY29uc3QgcGxheWVyID0geyBpZDogMSwgbmFtZTogJ1BsYXllciAxJywgaXNBbGl2ZTogdHJ1ZSB9O1xuICAgICAgY29uc3Qgcm9sZSA9IHsgXG4gICAgICAgIG5hbWU6ICdzZWVyJyxcbiAgICAgICAgY2FuVXNlQWJpbGl0eTogKCkgPT4gdHJ1ZVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHtcbiAgICAgICAgY3VycmVudFBoYXNlOiAnbmlnaHQnLFxuICAgICAgICBoYXNTdGFydGVkOiB0cnVlLFxuICAgICAgICBoYXNFbmRlZDogZmFsc2UsXG4gICAgICAgIGdldFBsYXllcjogKCkgPT4gcGxheWVyXG4gICAgICB9O1xuICAgICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgICB0eXBlOiAnZm9ydHVuZScsXG4gICAgICAgIGFjdG9yOiAxLFxuICAgICAgICB0YXJnZXQ6IDJcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIENvbmZpZ3VyZSB0byB0aHJvdyBvbiBFUlJPUlxuICAgICAgZXJyb3JIYW5kbGVyLnNldEVycm9yUG9saWN5KHsgdGhyb3dPbkxldmVsOiBFcnJvckxldmVsLkVSUk9SIH0pO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0aW9uIHNob3VsZCBwYXNzXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICB2YWxpZGF0b3IudmFsaWRhdGVQbGF5ZXJBY3Rpb24oYWN0aW9uLCBwbGF5ZXIsIGdhbWVTdGF0ZSk7XG4gICAgICAgIHZhbGlkYXRvci52YWxpZGF0ZVJvbGVBY3Rpb24oYWN0aW9uLCByb2xlLCBnYW1lU3RhdGUpO1xuICAgICAgICB2YWxpZGF0b3IudmFsaWRhdGVHYW1lU3RhdGUoYWN0aW9uLCBnYW1lU3RhdGUpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBwbGF5ZXIgZGVhZCAoc2hvdWxkIGNhdXNlIHZhbGlkYXRpb24gdG8gZmFpbClcbiAgICAgIHBsYXllci5pc0FsaXZlID0gZmFsc2U7XG4gICAgICBcbiAgICAgIC8vIE5vdyB2YWxpZGF0aW9uIHNob3VsZCB0aHJvd1xuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgdmFsaWRhdG9yLnZhbGlkYXRlUGxheWVyQWN0aW9uKGFjdGlvbiwgcGxheWVyLCBnYW1lU3RhdGUpO1xuICAgICAgfSkudG9UaHJvdygpO1xuICAgICAgXG4gICAgICAvLyBDb25maXJtIGVycm9yIHdhcyBlbWl0dGVkIGFuZCBoYXMgY29ycmVjdCBwcm9wZXJ0aWVzXG4gICAgICBjb25zdCBkZWFkUGxheWVyRXZlbnRzID0gZXZlbnRTeXN0ZW0uZXZlbnRzLmZpbHRlcihcbiAgICAgICAgZSA9PiBlLmV2ZW50TmFtZSA9PT0gJ2Vycm9yLmNvZGUuRTAxMDMnIC8vIERFQURfUExBWUVSX0FDVElPTiBjb2RlXG4gICAgICApO1xuICAgICAgZXhwZWN0KGRlYWRQbGF5ZXJFdmVudHMubGVuZ3RoKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KGRlYWRQbGF5ZXJFdmVudHNbMF0uZGF0YS5jb250ZXh0LnBsYXllcklkKS50b0JlKDEpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtFQUNKQSxZQUFZO0VBQ1pDLFlBQVk7RUFDWkMsVUFBVTtFQUNWQyxTQUFTO0VBQ1RDO0FBQ0YsQ0FBQyxHQUFHQyxPQUFPLENBQUMsNEJBQTRCLENBQUM7O0FBRXpDO0FBQ0EsTUFBTUMsZUFBZSxDQUFDO0VBQ3BCQyxXQUFXQSxDQUFBLEVBQUc7SUFDWixJQUFJLENBQUNDLE1BQU0sR0FBRyxFQUFFO0VBQ2xCO0VBRUFDLElBQUlBLENBQUNDLFNBQVMsRUFBRUMsSUFBSSxFQUFFO0lBQ3BCLElBQUksQ0FBQ0gsTUFBTSxDQUFDSSxJQUFJLENBQUM7TUFBRUYsU0FBUztNQUFFQztJQUFLLENBQUMsQ0FBQztJQUNyQyxPQUFPLElBQUk7RUFDYjtFQUVBRSxTQUFTQSxDQUFBLEVBQUc7SUFDVixPQUFPLElBQUksQ0FBQ0wsTUFBTTtFQUNwQjtBQUNGO0FBRUFNLFFBQVEsQ0FB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